<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700" style="background-color: #1a1a1a;">
  <defs>
    <linearGradient id="wfGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a6acc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2a4aac;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ldsSharedGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#cc8a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ac6a1e;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">
    Workgroup Structure
  </text>
  <text x="450" y="58" font-family="Arial, sans-serif" font-size="14" fill="#cccccc" text-anchor="middle">
    256 Work-Items = 4 Wavefronts on a Single Compute Unit
  </text>

  <!-- Compute Unit Container -->
  <rect x="50" y="90" width="800" height="480" fill="none" stroke="#c8102e" stroke-width="3" rx="8"/>
  <text x="450" y="115" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#c8102e" text-anchor="middle">
    Single Compute Unit (CU)
  </text>

  <!-- Wavefront 0 -->
  <g id="wavefront0">
    <rect x="80" y="140" width="720" height="70" fill="url(#wfGrad)" stroke="#5a7acc" stroke-width="2" rx="4"/>
    <text x="440" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Wavefront 0 (64 work-items: 0-63)
    </text>

    <!-- Thread boxes -->
    <rect x="90" y="180" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="105" y="194" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W0</text>
    <rect x="125" y="180" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="140" y="194" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W1</text>
    <rect x="160" y="180" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="175" y="194" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W2</text>
    <text x="210" y="194" font-family="Arial, sans-serif" font-size="10" fill="#aaccff" text-anchor="middle">...</text>
    <rect x="240" y="180" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="255" y="194" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W63</text>
    <text x="440" y="194" font-family="Arial, sans-serif" font-size="9" fill="#ccddff" text-anchor="middle">64 lanes executing in lockstep</text>
  </g>

  <!-- Wavefront 1 -->
  <g id="wavefront1">
    <rect x="80" y="225" width="720" height="70" fill="url(#wfGrad)" stroke="#5a7acc" stroke-width="2" rx="4"/>
    <text x="440" y="250" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Wavefront 1 (64 work-items: 64-127)
    </text>
    <rect x="90" y="265" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="105" y="279" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W64</text>
    <rect x="125" y="265" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="140" y="279" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W65</text>
    <text x="180" y="279" font-family="Arial, sans-serif" font-size="10" fill="#aaccff" text-anchor="middle">...</text>
    <rect x="210" y="265" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="225" y="279" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W127</text>
  </g>

  <!-- Wavefront 2 -->
  <g id="wavefront2">
    <rect x="80" y="310" width="720" height="70" fill="url(#wfGrad)" stroke="#5a7acc" stroke-width="2" rx="4"/>
    <text x="440" y="335" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Wavefront 2 (64 work-items: 128-191)
    </text>
    <rect x="90" y="350" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="105" y="364" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W128</text>
    <text x="150" y="364" font-family="Arial, sans-serif" font-size="10" fill="#aaccff" text-anchor="middle">...</text>
    <rect x="180" y="350" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="195" y="364" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W191</text>
  </g>

  <!-- Wavefront 3 -->
  <g id="wavefront3">
    <rect x="80" y="395" width="720" height="70" fill="url(#wfGrad)" stroke="#5a7acc" stroke-width="2" rx="4"/>
    <text x="440" y="420" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Wavefront 3 (64 work-items: 192-255)
    </text>
    <rect x="90" y="435" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="105" y="449" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W192</text>
    <text x="150" y="449" font-family="Arial, sans-serif" font-size="10" fill="#aaccff" text-anchor="middle">...</text>
    <rect x="180" y="435" width="30" height="20" fill="#3a5aac" stroke="#5a7acc" stroke-width="1" rx="2"/>
    <text x="195" y="449" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">W255</text>
  </g>

  <!-- Shared LDS Memory -->
  <rect x="80" y="485" width="720" height="65" fill="url(#ldsSharedGrad)" stroke="#cc8a2e" stroke-width="3" rx="4"/>
  <text x="440" y="510" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#ffffff" text-anchor="middle">
    Shared LDS (Local Data Share) - 64 KB
  </text>
  <text x="440" y="530" font-family="Arial, sans-serif" font-size="11" fill="#ffddaa" text-anchor="middle">
    All 4 wavefronts can read/write to shared memory
  </text>
  <text x="440" y="545" font-family="Arial, sans-serif" font-size="10" fill="#ffccaa" text-anchor="middle">
    __syncthreads() / barrier() for synchronization
  </text>

  <!-- Properties Box -->
  <rect x="50" y="590" width="800" height="90" fill="#2a2a3a" stroke="#4a6a8a" stroke-width="2" rx="6"/>
  <text x="450" y="615" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4a8acc" text-anchor="middle">
    Workgroup Properties
  </text>
  <text x="120" y="640" font-family="Arial, sans-serif" font-size="11" fill="#aaccee">
    • Total: 256 work-items (4 × 64)
  </text>
  <text x="120" y="660" font-family="Arial, sans-serif" font-size="11" fill="#aaccee">
    • Executes on single CU
  </text>
  <text x="450" y="640" font-family="Arial, sans-serif" font-size="11" fill="#aaccee">
    • Shared 64 KB LDS memory
  </text>
  <text x="450" y="660" font-family="Arial, sans-serif" font-size="11" fill="#aaccee">
    • Can synchronize via barriers
  </text>
  <text x="700" y="640" font-family="Arial, sans-serif" font-size="11" fill="#ffccaa">
    Common sizes:
  </text>
  <text x="700" y="660" font-family="Arial, sans-serif" font-size="10" fill="#ffccaa">
    64, 128, 256, 512
  </text>

  <!-- Footer -->
  <text x="450" y="695" font-family="Arial, sans-serif" font-size="9" fill="#666666" text-anchor="middle">
    Workgroups are the basic unit of execution scheduling | Multiple workgroups run concurrently on different CUs
  </text>
</svg>